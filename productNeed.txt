项目概述
项目名称：益路同行多端公益教育平台
目标：为农村留守儿童提供安全、稳定、可持续的在线学习与心理关怀环境，连接大学生志愿者与学院管理者，实现教学内容的上传、审核、发布与实时互动。
系统组成：
儿童端：安卓 App
志愿者端：安卓 App + Web（管理端的志愿者视角）
学院管理员端：Web 管理端
微信小程序端：轻量访问入口
后端与基础设施：云原生微服务 + WebRTC 实时通信 + AI 辅导服务

角色与权限
儿童用户
观看审核通过的视频与直播
使用 AI 辅导（文本对话）
轻度互动（点赞、收藏、评论，视合规策略开放）
志愿者用户
上传与管理教学视频
提交直播申请并进行开播
查看个人内容数据（播放量、通过率等）
学院管理员 / 审核员
审核本学院志愿者的视频与直播申请
管理志愿者账号和学院信息
查看基础运营数据与审计记录
平台管理员
全局配置、角色与权限管理
全平台内容审核与风控兜底
未登录访客
仅可浏览极少量公开宣传内容（可选需求）

总体业务流程（高层）
1.内容生产
志愿者在 App / Web 上传教学视频，填写元数据 → 提交审核。
志愿者在 App / Web 发起直播申请 → 填写主题与时间段 → 提交审核。
2.审核与发布
学院管理员在 Web 管理端查看待审视频、直播申请 → 通过 / 驳回 → 写入原因。
通过的视频、到时段的直播信息会同步到儿童端 App 与小程序。
3.学习与互动
儿童端 App / 小程序浏览内容 → 点击播放视频 / 进入直播间。
可进行点赞、收藏、（合规前提下）评论等互动。
在 AI 辅导区发起文本对话，获得学习/心理支持。
4.运营与监控
管理端查看数据概览（内容数、直播数、活跃用户等）。
审计日志记录关键操作（登录、审核、发布、下架、权限变更等）。
一个平台管理员账号，每个学院初始是两个学院管理员账号，每个学院多个志愿者账号。
平台管理员负责添加、删除学院管理员账号，下架已上架的视频与直播、查看各个学院的情况仪表盘，从而来对比各个学院间的差异。创建/编辑学院、儿童账号建档
一个志愿者上传视频进行审核，同步至该学院的所有学院管理员账号，一个学院内部的所有信息均同步处理，各个学院只能查看各个学院内部的情况仪表盘。
视频上架流程：志愿者填写视频基本信息然后上传视频进行审核，该志愿者所在学院的所有学院管理员均同步收到审核申请，学院管理员在视频审核页面点击该视频即可查看视频的基本信息、显示上传视频进行审核的志愿者账号、预览视频，若审核通过则志愿者端更新视频状态为“审核已通过”并显示通过时间、该学院的所有学院管理员端也同步进行视频状态更新，若审核不通过学院管理员需填写审核不通过的原因并同步至该志愿者，审核通过后志愿者可点击上架视频将视频同步至所有的儿童端，儿童端可以在首页刷到该视频并最开始志愿者填写的视频类型的分区中找到该视频。若审核不通过，志愿者可在自己的页面查看到视频审核被驳回的状态和审核不通过原因，可修改视频信息或重新上传视频后点击重新进行审核。平台管理员、学院管理员可对已上架的视频
直播上架流程：志愿者填写直播申请表单，要填写直播的基本信息，如：x年x月x日x时至x年x月x日x时开始直播，直播时长x分钟，直播主题，直播内容、直播分区等。该志愿者所在学院的所有学院管理员均同步收到直播申请，学院管理员可点击表单，查看该直播申请表单的基本信息、申请人等。，若审核通过则志愿者端更新视频状态为“直播申请已通过”并显示通过时间、该学院的所有学院管理员端也同步进行直播状态更新，若审核不通过学院管理员需填写审核不通过的原因并同步至该志愿者，审核通过后志愿者可点击上架直播同步至所有的儿童端，儿童端可以在首页刷到该预直播并最开始志愿者填写的视频类型的分区中找到该预直播，显示该直播的主题、与直播开启时间。在审核通过后，志愿者可以在自己页面处开始仅能自己看到的预直播，从而来便于提前调整

儿童端（安卓 App）功能需求
主要是基于微信小程序端新增直播观看功能
1. 账号与身份管理
CH-FR-01 注册 / 登录
支持通过由管理员端预先建档（通过平台管理员导入儿童姓名作为账号，以及初始密码），首次登录绑定，可在后续自行修改密码。
CH-FR-02 个人资料
展示基本资料（姓名、年级、性别、所在学校）。
用户可修改头像、密码，仅在“账号安全”中可见。
2. 内容浏览与学习
CH-FR-03 首页与推荐
展示推荐视频列表（按适龄、最新、热门等维度），支持按年级或学科的基础筛选。
CH-FR-04 视频列表与详情
支持按分类（学科、年级）浏览视频。
视频详情包括：标题、简介、授课志愿者、所属学院、时长、发布时间等。
仅展示审核通过（已发布）的视频。
CH-FR-05 视频播放
集成云对象存储 + CDN 的播放地址，支持断点续播与基本播放控制（播放/暂停、进度、音量）。
支持后台锁屏播放（可选）。
3. 实时直播课堂
CH-FR-06 直播列表
展示即将开始 / 正在进行的直播课堂列表。
每条展示：主题、时间、授课志愿者、学院、直播状态（未开始/直播中/已结束）。
CH-FR-07 直播观看
基于 WebRTC / SDK 的低延迟直播播放。
支持基础互动：发送文字消息（如 Q&A 弹幕），可按敏感词规则过滤（可选）。
CH-FR-08 课后回放
若直播录制开启，直播结束后可生成可回看的视频条目，与普通教学视频一致展示。
4. AI 辅导功能（最后实现）
CH-FR-09 文本对话辅导
进入“AI 辅导”模块，可选择“学习问题”“情绪倾诉”等入口。
用户输入文本问题，系统调用外部 AI 模型 API（如豆包）返回文本回复。
CH-FR-10 会话安全与限制
对用户输入进行敏感词与安全审查（自杀、自残、极端言论等标记高风险），必要时触发预定义应答与告警链路（如建议联系老师/监护人）。
限制每日会话次数与单次长度，防止过度依赖与滥用。
严格不展示广告、导流等与教育无关内容。
5. 互动与反馈（可按批次实现）
CH-FR-11 点赞与收藏
儿童用户可对视频点赞 / 取消点赞，以及收藏 / 取消收藏。
CH-FR-12 评论（需严格审核策略）（可选）
可选开启评论功能：评论内容需通过内容审核（自动 + 人工复核）方可展示。
CH-FR-13 学习记录（可选）
记录已观看视频、学习时长、完成率等数据，供后续可视化使用。

志愿者端（App + Web 管理端）功能需求
1. 志愿者账号与认证
VO-FR-01 志愿者入驻与认证
志愿者端使用“学号+密码”进行登录，注册账号时需填写所在学院、学号、姓名、密码、联系方式。
学院管理员或平台管理员可在后台为志愿者开通 / 停用账号。
VO-FR-02 登录与权限
志愿者登录后仅能访问与自身内容相关的模块：我的视频、我的直播申请、基础统计等。
2. 视频内容创作与管理
VO-FR-03 视频上传
志愿者可在 App / Web 上传教学视频：
选择本地视频文件；
填写标题、简介、年级范围、学科标签、所属学院等；
系统通过 SDK/HTTP 将视频上传至云对象存储。
VO-FR-04 草稿与编辑
视频初始状态为“草稿”，可多次编辑元数据（标题、简介、标签等）。
志愿者只能删除或修改“草稿 / 被驳回”的视频。
VO-FR-05 提交审核
志愿者可将草稿视频提交审核，状态变为“审核中（in_review）”。
审核结果（通过/驳回 + 驳回理由）在志愿者端可视化展示。
3. 直播申请与主持
VO-FR-06 直播申请
志愿者可填写直播主题、简介、预计开始时间、预计时长、适用年级、预估参与人数。
提交后生成“直播申请单”，状态为“待审核”。
VO-FR-07 审核结果通知
审核通过后，志愿者可在 App / Web 看到“已通过”的直播申请，并在指定时间前后进入推流界面。
VO-FR-08 推流与课堂控制
集成厂商 WebRTC SDK / RTM：
开始 / 结束直播
查看在线人数、基本连麦控制（如是否允许儿童端连麦，后续迭代）
直播结束后，触发录制回放生成逻辑（若开启录制）。
4. 个人内容数据
VO-FR-09 视频数据面板
每个视频展示基础数据：播放量、点赞数、收藏数、审核通过率等。
VO-FR-10 直播数据（可选）
展示每场直播的观看人数峰值、平均在线数、互动次数（提问、弹幕）、直播时长等。

学院管理员端（Web 管理端）功能需求
1. 登录与角色权限
AD-FR-01 角色区分
学院管理员登录后仅可管理本学院范围内的视频、直播申请与志愿者。
平台管理员可创建、修改、审核学院管理员账号。
2. 视频审核与管理
AD-FR-02 视频审核列表
查看“待审核”视频列表：支持按学院、志愿者、提交时间、年级、学科等筛选。
AD-FR-03 审核动作
对单个视频执行“通过 / 驳回”；驳回时需填写驳回理由。
支持批量审核（批量通过 / 批量驳回，统一或分别记录理由）。
AD-FR-04 视频状态管理
对已通过的视频，可进行“发布 / 下线”操作：
发布：视频对儿童端 App 和小程序可见。
下线：视频从前台下架，但在后台仍保留记录。
3. 直播申请审核
AD-FR-05 直播审核列表
展示所有直播申请的列表：状态（待审/通过/驳回）、志愿者、主题、计划时间。
AD-FR-06 审核决策
审核通过 / 驳回，并可填写审核意见。
支持查看历史审核记录，用于责任追溯。
4. 志愿者与学院管理
AD-FR-07 志愿者管理
增加、编辑、停用志愿者账号：
基本信息：姓名、学号、学院、联系方式。
状态：在校 / 已毕业 / 停用。
查看志愿者上传的视频及直播记录。
AD-FR-08 学院配置
管理学院列表（学院名称、是否启用、排序等）。
作为下拉选项在志愿者注册 / 直播申请等场景中使用。
5. 审计与监控
AD-FR-09 审计日志
记录以下操作：登录、审核决策（视频/直播）、发布/下线、志愿者管理、学院配置。
支持按时间、操作人、操作类型筛选与导出（导出可放后期）。
AD-FR-10 数据概览（Dashboard）
关键指标展示：视频总数、审核通过率、当前待审数量、直播场次数、活跃志愿者数量等。
支持按时间范围与学院维度查看。

微信小程序端功能需求
1. 访问与登录
MP-FR-01 微信授权登录
支持微信一键登录，获取基础 OpenID / UnionID，与后端账号体系绑定。
MP-FR-02 游客模式
游客可浏览有限的公开内容；登录后可进行收藏、学习记录等。
2. 视频与直播
MP-FR-03 视频列表 / 详情 / 播放
功能上与儿童端视频模块一致，但 UI 与交互适配小程序。
MP-FR-04 评论 / 点赞 / 收藏
同儿童端，具体是否开放评论依赖合规策略与平台开关。
MP-FR-05 直播观看
基于微信小程序直播组件或 WebRTC 能力实现低延迟观看，支持基础文字互动。
3. 内容上传（可分阶段）
MP-FR-06 志愿者小程序上传（可选）
若后续支持志愿者通过小程序上传：流程与 App 类似，包含上传、填写元数据与提交审核。

公共能力与后端服务层功能需求
1. 认证与授权（Auth & RBAC）
SYS-FR-01 JWT 鉴权
所有受保护 API 必须通过 JWT 校验；支持角色与权限列表的嵌入。
SYS-FR-02 权限模型
基于细粒度权限点（如 video.create、video.review、live.apply.review 等）构建角色。
前端通过权限列表控制菜单、按钮与路由访问。
2. 内容审核与安全
SYS-FR-03 多层审核
视频与直播申请需人工审核；文本类（评论、AI 辅导请求等）需自动敏感词与风控检测。
SYS-FR-04 内容分级与适龄性
视频元数据中需包含适龄年级、学科标签，以便前端过滤与推荐。
3. 实时通信与直播基础设施
SYS-FR-05 WebRTC 集成
基于厂商 SDK（如 TRTC / Agora）实现推流、拉流、连麦等。
SYS-FR-06 弹性伸缩
利用 Kubernetes 对直播服务节点（如 SFU）进行自动伸缩，保障多直播场景下的稳定性。
4. AI 辅导服务
SYS-FR-07 第三方 AI API 接入
通过统一服务封装豆包等大模型 API，提供标准化问答接口。
SYS-FR-08 数据脱敏与合规
请求中不主动上传敏感个人信息，必要时进行脱敏处理。






1️⃣ 平台 vs 学院 权力结构
你的选择是：
学院初审，平台兜底
也就是：
学院管理员负责：
o视频审核
o直播审核
o志愿者管理
平台管理员：
o不能参与日常审核
o但可以强制下架任何内容
o对全平台内容安全负责
👉 这是一个典型“属地审核 + 中央兜底”模式（和抖音、B站很像）

2️⃣ 多管理员冲突规则（你选的是“抢先制”）
你定义的是：
一个学院管理员审核通过 = 该学院的最终结论
也就是：
多个管理员同时看到一个视频
谁先点“通过”
所有人界面立即同步为“已通过”
其他人失去操作权
这是一种强一致审批模型

3️⃣ 志愿者的权力（你给了他们完整发布权）
你选择的是：
操作	权限
上传	志愿者
提交审核	志愿者
上架	志愿者
下架	志愿者
学院只负责审核是否合规
平台只负责兜底下架
这是非常“公益友好”的设计。

4️⃣ 直播事故责任链
你选择的是：
学院先管，平台兜底
也就是：
志愿者直播违规
→ 学院管理员第一时间处理
→ 严重的由平台管理员封停
而：
志愿者预约不播
→ 直接冻结其直播权限
你这里给了直播强纪律性 👍

5️⃣ 儿童端内容开放级别
你选择的是：
评论：默认开启，但仅机器过滤
弹幕：✅ 允许，但仅机器过滤
这是最低合规风险方案

6️⃣ AI 辅导的边界
你选的是：
学习 + 情绪倾诉
但触发风险 → 自动通知学院
这是一个非常专业的未成年人保护设计

7️⃣ 学院之间的隔离
你选择的是：
学院之间完全隔离
只有平台管理员可以看到全局
学院之间只能通过平台给的“数据报告”对比
这让你这个系统具备“顶点帮扶 + 绩效评估”能力

8️⃣ 儿童账号与数据
你定义的是：
儿童账号：平台创建，学院维护
学习数据：只给本学院看
这非常符合学校合规要求

9️⃣ 你这个平台的真正定位
你给的是：
学校 ↔ 顶点帮扶县小学 的内部公益教育平台
也就是说你不是“互联网平台”，你是：
教育系统内部的多校区教学平台
这一点非常重要，它会影响很多合规条款和表述方式。



项目需求文档（PRD）：益路同行 - 学校对口帮扶的治理型公益教育系统
项目名称
益路同行 - 学校对口帮扶的治理型公益教育系统
项目目标
作为教育系统内部的多学院教学平台，本系统旨在为对口帮扶县小学（以下简称“帮扶学校”）的农村留守儿童提供安全、稳定、可持续的在线学习与心理关怀环境。通过连接帮扶学校内多个学院（作为学校的下属组织）的大学生志愿者及管理者，实现教学内容的上传、审核、发布、实时互动以及数据监控。平台强调治理型设计：属地审核（学院初审）+ 中央兜底（平台兜底），确保内容合规、教育性强，并防范潜在风险（如敏感信息泄露或不当互动）。最终目标是提升留守儿童的学习兴趣、知识获取和心理健康支持，同时为志愿者提供高效的内容创作工具，为学院管理员提供属地管理能力，为平台管理员提供全局治理与绩效评估能力。
平台定位：非公开互联网平台，而是教育系统内部的多学院教学平台，聚焦学校内部公益教育治理。所有内容与数据严格限于内部流通，符合学校合规要求（如未成年人保护、数据隔离）。儿童账号由平台创建、学院维护；学习数据仅本学院可见；学院之间完全隔离，只有平台管理员通过数据报告对比绩效。
系统组成
儿童端：安卓 App（核心学习端，提供视频播放、直播观看、AI 辅导等功能）。
志愿者端：安卓 App + Web（内容创作端，支持视频上传、直播申请、数据查看）。
学院管理员端：Web 管理端（审核与管理端，用于内容审核、志愿者管理、数据监控）。
平台管理员端：Web 管理端（全局治理端，用于全局配置、兜底下架、学院对比、账号建档等，与学院管理员端共享基础框架但权限扩展）。
微信小程序端：轻量访问入口（简化版儿童端，支持快速浏览与互动，便于推广）；可选支持志愿者上传。
后端与基础设施：云原生微服务架构 + WebRTC 实时通信 + AI 辅导服务（集成第三方 API 如豆包）。后端使用容器化部署（Kubernetes），支持弹性伸缩；数据库采用关系型（如 MySQL）结合 NoSQL（如 Redis 用于缓存）；存储使用云对象存储 + CDN 加速。
项目范围与假设
范围：聚焦于内容生产、审核、消费与互动闭环；AI 辅导为后期功能；互动开放级别：评论/弹幕默认开启，但仅机器过滤（最低合规风险）；不包括支付、广告或商业变现。强调治理型设计：学院之间完全隔离，只有平台管理员可见全局数据报告，用于绩效评估和顶点帮扶。
假设：用户设备支持 Android 8.0+ 或微信小程序；网络环境稳定；合规策略（如敏感词库）由平台管理员维护；儿童账号由平台创建、学院维护，学习数据仅本学院可见。
非功能需求：性能（<2s 响应时间）、安全性（HTTPS、数据加密）、可用性（99.9% 上线率）、可访问性（适配不同屏幕、语音辅助可选）。状态转换失败时回滚并告警。
角色与权限
平台采用 RBAC（Role-Based Access Control）模型，确保权限最小化原则与治理型结构：学院初审（属地负责）、平台兜底（全局安全）。每个角色有明确权限点，支持动态调整。初始账号配置：1 个平台管理员账号；每个学院 2 个学院管理员账号；每个学院多个志愿者账号；儿童账号由平台管理员批量创建（导入姓名作为用户名 + 初始密码，以及性别、年级、学校信息）；。
儿童用户
o观看审核通过的视频与直播。
o使用 AI 辅导（文本对话，边界：学习 + 情绪倾诉，风险触发自动通知学院）。
o轻度互动（点赞、收藏、评论/弹幕，默认开启机器过滤）。
志愿者用户
o上传与管理教学视频（完整发布权：上传/提交审核/上架/下架）。
o提交直播申请并进行开播（主持、预直播）。
o查看个人内容数据（播放量、通过率等）。
学院管理员 / 审核员
o审核本学院志愿者的视频与直播申请（初审合规，多管理员抢先制）。
o管理志愿者账号和学院信息（开通/停用/维护）。
o查看基础运营数据与审计记录（本学院仪表盘）。
平台管理员
o全局配置、角色与权限管理（添加/删除学院管理员，不能日常审核）。
o全平台内容审核与风控兜底（强制下架任何内容，对全平台内容安全负责）。
o创建/编辑学院、儿童账号建档；查看全局仪表盘对比学院差异。
o导入学院管理员账号（工号、姓名、初始密码）
未登录访客
o仅可浏览极少量公开宣传内容（可选需求），首页可看部分内容，不可下拉刷新、搜索等。查看其他页面会弹出请登录的提示框
权限闭环：所有角色登录时验证 JWT；权限变更实时同步前端；审计日志记录所有操作（e.g., 审核决策、下架）。学院之间完全隔离：无跨学院访问，只有平台管理员通过全局数据报告对比绩效（e.g., 活跃度、通过率）。
总体业务流程（高层）
业务对象1：视频
状态机（描述视频生命周期）：
o草稿：志愿者创建/编辑（上传文件 + 元数据：标题、简介、年级、学科、标签）。触发：志愿者保存 → 进入草稿。
o审核中：志愿者提交审核 → 通知本学院所有管理员（同步视图）。多管理员冲突：抢先制（一人通过/驳回即最终结论，同步所有视图，失去操作权）。
o审核通过：学院管理员通过（记录时间/操作人） → 通知志愿者；志愿者可上架（同步儿童视图：首页 + 分区）。
o审核驳回：学院管理员驳回（必填理由） → 通知志愿者；志愿者可编辑/重提。
o已上架：志愿者上架 → 可见于儿童视图（播放、互动）。志愿者可下架自身内容；学院管理员/平台管理员可强制下架（记录理由，保留后台记录）。
o已下架：下架触发 → 从儿童视图移除；可重新上架（需重审）。
权责模型：
o志愿者：创建/编辑/提交/上架/下架（自身）。
o学院管理员：初审合规（通过/驳回）。
o平台管理员：兜底下架（全局安全）。
o儿童：消费（播放、点赞、收藏、评论 - 默认开启机器过滤）。
视图渲染：
o志愿者视图（App/Web）：草稿列表、数据面板（播放量、点赞数）。
o学院管理员视图（Web）：审核列表（筛选：志愿者、时间）；批量审核。
o儿童视图（App/小程序）：列表/详情/播放（适龄过滤）；互动。
o平台管理员视图（Web）：全局监控，下架按钮。
业务对象2：直播
状态机（描述直播生命周期）：
o草稿：志愿者创建申请（表单：主题、时间段、时长、简介、分区、预估人数）。触发：保存 → 进入草稿。
o审核中：提交审核 → 通知本学院所有管理员（同步）。抢先制：一人决策即最终，同步视图。
o审核通过：通过 → 通知志愿者；志愿者可上架（同步儿童视图：预直播列表，显示主题 + 时间）；允许预直播（仅自可见，调整设备）。
o审核驳回：驳回（理由） → 通知志愿者；可重提。
o已上架（预直播）：上架 → 儿童可见；时间到 → 志愿者推流开始。
o直播中：开始 → 实时互动（弹幕允许，仅机器过滤）；在线监控（人数、连麦 - 迭代）。
o已结束：结束 → 触发录制回放（若开启，生成视频对象）；数据反馈。
o已下架：下架/事故触发 → 移除视图。
o事故状态：违规 → 学院管理员先处理（中断/警告）；严重 → 平台封停志愿者。预约不播 → 自动冻结志愿者直播权限（需申请解冻）。
o违约记录： 若预约时间未开播，系统自动记录违约并冻结直播申请权限，志愿者可后续向学院管理员解冻。
权责模型：
o志愿者：申请/上架/主持/结束；完整发布权，但需合规。
o学院管理员：初审；事故先管。
o平台管理员：兜底封停/下架。
o儿童：观看/互动（文字消息，机器过滤）。
视图渲染：
o志愿者视图：申请列表、推流界面、数据（峰值观看）。
o学院管理员视图：审核列表（状态筛选）；推流界面、**事故处理按钮。
o儿童视图：列表（状态：未开始/直播中）；观看 + 弹幕。
o平台管理员视图：全局监控，封停按钮。
业务对象3：用户（儿童/志愿者）
状态机：
o待激活：平台管理员通过导入excel批量创建儿童账号（填写姓名（作为账号名）、学校、性别、密码等）。学院管理员端通过导入excel批量创建志愿者账号（学号、姓名、性别、密码）
o活跃：激活/认证通过 → 可操作。
o停用/冻结：学院管理员操作（e.g., 违规） → 权限锁定。
权责模型：
o平台管理员：创建儿童账号；管理学院管理员。
o学院管理员：维护本学院儿童账号（更新资料）；管理志愿者（开通/停用）。
o志愿者/儿童：编辑个人资料（密码、头像）。
视图渲染：
o儿童视图：个人资料、学习记录（仅本学院数据）。
o志愿者视图：认证信息、内容数据。
o学院/平台视图：管理列表（筛选、编辑）。
业务对象4：AI 会话
状态机：
o初始化：儿童发起（入口：学习问题/情绪倾诉）。
o进行中：文本对话（AI 回复）；限制（每日次数、长度）。
o高风险：输入审查触发（自杀等） → 自动通知本学院管理员；预定义应答（建议联系老师）。
o结束：会话关闭；历史保存。
权责模型：
o儿童：发起/输入。
o系统：机器过滤 + AI API 调用。
o学院管理员：接收风险通知，处理。
视图渲染：
o儿童视图：对话界面（无广告）。
o学院视图：风险告警列表。
业务对象5：审计日志与数据报告
状态机：操作触发 → 记录（e.g., 审核、下架）；查询/导出。
权责模型：
o所有角色：生成日志。
o学院管理员：查看本学院日志/仪表盘。
o平台管理员：全局日志；生成数据报告（对比学院：内容数、通过率、活跃用户）。
视图渲染：仪表盘（图表、筛选）；报告导出。

儿童端（安卓 App）功能需求
主要是基于微信小程序端新增直播观看功能。功能详细包括交互、约束、状态机集成，确保闭环（e.g., 互动实时反馈）。
1.账号与身份管理
oCH-FR-01 注册 / 登录：支持通过平台管理员预先建档（平台导入姓名作为账号 + 初始密码+学校+年级+性别），首次登录绑定设备，后续自行修改密码。交互：输入账号/密码，忘记密码 → 管理员重置。约束：首次绑定后锁定初始信息。
oCH-FR-02 个人资料：展示基本资料（姓名、年级、性别、所在学校）。用户可修改头像、密码（仅“账号安全”模块可见）。交互：编辑保存实时同步。约束：年级/学校由学院维护。
2.内容浏览与学习
oCH-FR-03 首页与推荐：展示推荐视频列表（按适龄、最新、热门维度），支持按年级或学科筛选。交互：下拉刷新实时更新；点击进入详情。约束：仅已上架内容，适龄过滤。
oCH-FR-04 视频列表与详情：支持按分类（学科、年级）浏览。详情包括：标题、简介、授课志愿者、所属学院、时长、发布时间。交互：分类切换、详情展开。约束：仅展示审核通过视频。
oCH-FR-05 视频播放：集成云对象存储 + CDN，支持断点续播、基本控制（播放/暂停、进度、音量）、后台锁屏播放（可选）。交互：全屏模式、进度条拖拽。约束：网络断开支持重连。
3.实时直播课堂
oCH-FR-06 直播列表：展示即将开始 / 正在进行 / 已结束列表。每条包括：主题、时间、授课志愿者、学院、状态。交互：订阅提醒、状态过滤。约束：仅已上架直播。
oCH-FR-07 直播观看：基于 WebRTC / SDK 的低延迟播放，支持基础互动（发送文字消息如 Q&A 弹幕，仅机器过滤）。交互：实时弹幕显示、发送输入框。约束：敏感词过滤，可选连麦（迭代）。
oCH-FR-08 课后回放：若录制开启，结束生成视频条目，与普通视频一致展示。交互：自动跳转回放列表。约束：回放继承原直播元数据。
4.AI 辅导功能（最后实现）
oCH-FR-09 文本对话辅导：进入模块，选择“学习问题”“情绪倾诉”入口。输入文本 → 系统调用 AI API 返回回复。交互：会话历史滚动、输入框。约束：无广告/导流。
oCH-FR-10 会话安全与限制：输入审查（高风险如自杀标记 → 预定义应答 + 通知学院）。限制每日次数/长度。交互：告警弹窗建议联系老师。约束：数据脱敏，防止滥用。
5.互动与反馈（可按批次实现）
oCH-FR-11 点赞与收藏：对视频/直播点赞/取消、收藏/取消。交互：按钮实时计数、收藏列表查看。约束：每日限额（e.g., 10 次）。
oCH-FR-12 评论（需严格审核策略）（可选）：开启后评论需机器过滤。交互：输入提交 → 审核后显示。约束：默认开启过滤，低风险方案。
oCH-FR-13 学习记录（可选）：记录观看视频、时长、完成率，可视化图表。交互：个人面板查看，用于推荐优化。约束：数据仅本学院可见。
志愿者端（App + Web 管理端）功能需求
1.志愿者账号与认证
oVO-FR-01 志愿者入驻与认证：使用“学号+密码”登录，注册填写所在学院、学号、姓名、密码、联系方式。后台由学院/平台管理员开通/停用。交互：注册表单提交 → 等待认证。约束：实名认证，停用通知。
oVO-FR-02 登录与权限：登录后仅访问自身模块（我的视频、直播申请、统计）。交互：JWT 验证。约束：权限最小化，仅自身内容。
2.视频内容创作与管理
oVO-FR-03 视频上传：上传本地文件 + 填写标题、简介、年级范围、学科标签、所属学院。交互：进度条显示，SDK/HTTP 上传云存储。约束：文件大小限（e.g., 500MB）。
oVO-FR-04 草稿与编辑：初始“草稿”状态，可多次编辑元数据。仅删除/修改草稿/驳回视频。交互：编辑界面保存。约束：提交后锁定。
oVO-FR-05 提交审核：草稿提交 → 状态“审核中”。结果通知（通过/驳回 + 理由）可视化。交互：推送 + 界面更新。约束：驳回后重提闭环。
3.直播申请与主持
oVO-FR-06 直播申请：填写主题、简介、开始时间、时长、年级、预估人数。生成申请单“待审核”。交互：表单校验（时间冲突）。约束：预估人数可选。
oVO-FR-07 审核结果通知：通过后看到“已通过”，指定时间进入推流。交互：通知弹窗。约束：通过后可预直播（自可见调整）。
oVO-FR-08 推流与课堂控制：集成 WebRTC SDK/RTM：开始/结束、查看在线人数、连麦控制（迭代）。结束触发回放。交互：实时监控面板。约束：事故中断机制，不播冻结。
4.个人内容数据
oVO-FR-09 视频数据面板：每个视频显示播放量、点赞数、收藏数、通过率。交互：图表查看。约束：实时更新。
oVO-FR-10 直播数据（可选）：每场显示峰值观看、平均在线、互动次数、时长。交互：历史列表。约束：数据导出（后期）。
学院管理员端（Web 管理端）功能需求
1.登录与角色权限
oAD-FR-01 角色区分：登录后仅管理本学院（视频/直播/志愿者）。平台可创建/修改/审核学院管理员账号。交互：权限列表控制菜单。约束：本学院隔离。
2.视频审核与管理
oAD-FR-02 视频审核列表：查看“待审核”列表，支持筛选（学院、志愿者、时间、年级、学科）。交互：分页 + 搜索。约束：抢先制同步。
oAD-FR-03 审核动作：单个/批量通过/驳回，驳回必填理由。交互：预览视频 + 表单。约束：决策锁死其他管理员。
oAD-FR-04 视频状态管理：对通过视频发布/下线（发布 → 儿童可见；下线 → 移除但保留记录）。交互：状态切换按钮。约束：下线理由记录。
3.直播申请审核
oAD-FR-05 直播审核列表：展示列表（状态、志愿者、主题、时间）。交互：状态过滤 + 历史查看。约束：责任追溯。
oAD-FR-06 审核决策：通过/驳回 + 意见。交互：表单查看申请人信息。约束：抢先制，同步志愿者。
4.志愿者与学院管理
oAD-FR-07 志愿者管理：增加/编辑/停用账号（信息：姓名、学号、学院、联系方式；状态：在校/已毕业/停用）。查看上传记录。交互：列表 CRUD。约束：批量导入。
oAD-FR-08 学院配置：管理列表（名称、启用、排序）。作为下拉选项使用。交互：编辑保存。约束：同步注册/申请场景。
5.审计与监控
oAD-FR-09 审计日志：记录操作（登录、审核、发布/下线、管理）。支持筛选/导出（后期）。交互：时间/人/类型过滤。
oAD-FR-10 数据概览（Dashboard）：关键指标（视频总数、通过率、待审、直播场次、活跃志愿者）。支持时间/学院维度。交互：图表实时刷新。
平台管理员端（Web 管理端）功能需求
平台管理员端基于学院管理员端框架扩展，支持全局视图。功能强调兜底与对比。
1.登录与角色权限
oPL-FR-01 全局角色登录：登录后访问全平台模块，双因素认证。交互：JWT 验证 + 权限树显示。约束：不能日常审核，仅兜底。
2.全局内容管理
oPL-FR-02 全局视频列表：查看全平台视频（筛选：学院、状态、志愿者）。交互：分页、搜索、预览。约束：仅下架权限。
oPL-FR-03 全局直播列表：查看全平台直播申请/记录（状态、主题、时间）。交互：过滤 + 历史追溯。约束：封停/下架。
oPL-FR-04 兜底下架操作：批量/单个下架内容，必填理由。交互：下架按钮 + 确认弹窗。约束：同步所有端，通知志愿者/学院。
3.账号与权限管理
oPL-FR-05 学院管理员管理：添加/删除/编辑学院管理员账号（信息：姓名、权限）。交互：列表 CRUD + 批量导入。约束：变更审计。
oPL-FR-06 儿童账号建档：批量导入/创建儿童账号（Excel：姓名、学校等）。交互：上传文件 + 预览确认。约束：初始密码生成。
oPL-FR-07 志愿者全局查看：跨学院志愿者列表（筛选：状态、学院）。交互：详情查看记录。约束：无编辑，仅监控。
4.学院与配置管理
oPL-FR-08 学院创建/编辑：管理学院列表（名称、启用、排序、关联管理员）。交互：表单编辑 + 下拉选项。约束：同步所有端。
oPL-FR-09 全局权限配置：定义/调整角色权限点（e.g., video.review）。交互：权限树编辑器。约束：变更实时推送。
5.审计与监控
oPL-FR-10 全局审计日志：记录全平台操作，支持高级筛选/导出。交互：时间轴视图 + 图表。约束：责任追溯。
oPL-FR-11 全局仪表盘：关键指标（全平台内容数、通过率、活跃用户），对比学院差异（柱状图）。交互：时间范围过滤 + 导出报告。约束：绩效评估专用。
oPL-FR-12 风险告警页：显示高风险事件（e.g., AI 会话告警、违规内容）。交互：告警列表 + 处理按钮。约束：通知链路。
微信小程序端功能需求
1.访问与登录
oMP-FR-01 微信授权登录：一键登录，获取 OpenID/UnionID 绑定后端。交互：微信按钮。约束：与 App 账号体系同步。
oMP-FR-02 游客模式：浏览有限公开内容；登录后启用收藏/记录。交互：引导登录弹窗。
2.视频与直播
oMP-FR-03 视频列表 / 详情 / 播放：与儿童端一致，但 UI 适配小程序（列表浏览、详情展开、播放控制）。交互：触屏优化。约束：适龄过滤。
oMP-FR-04 评论 / 点赞 / 收藏：同儿童端，依赖合规开关。交互：按钮 + 输入。约束：机器过滤。
oMP-FR-05 直播观看：基于小程序组件或 WebRTC，低延迟 + 文字互动。交互：弹幕发送。约束：实时过滤。
3.内容上传（可分阶段）
oMP-FR-06 志愿者小程序上传（可选）：流程同 App（上传文件、元数据、提交审核）。交互：简化表单。约束：后期迭代。
各端页面详细描述
以下为各端的核心页面详细描述，包括布局、元素、交互、约束、状态机集成等。页面设计遵循 Material Design（App）/Bootstrap（Web），确保响应式。每个页面包含头部（导航栏、标题）、主体（内容区）、底部（Tab 栏或按钮）。尽量覆盖全面场景，避免遗漏。
儿童端（安卓 App）页面描述
1.登录页：布局：顶部 Logo，中间账号/密码输入框 + 登录按钮，底部忘记密码链接。交互：输入验证，点击登录 → JWT 认证 + 跳转首页；首次绑定设备弹窗。约束：初始密码加密，3 次失败锁定。状态机：从待激活 → 活跃。
2.注册绑定页（首次登录）：布局：输入初始密码 + 绑定设备提示。交互：确认绑定 → 更新账号状态。约束：仅预建档账号可用。
3.首页：布局：顶部搜索栏 + 分类 Tab（推荐、学科、年级），主体视频卡片列表（封面、标题、志愿者、时长）。交互：下拉刷新、卡片点击 → 详情页；无限滚动加载。约束：适龄过滤，热门算法排序。状态机：加载已上架视频。
4.视频列表页：布局：左侧分类菜单（学科/年级），主体列表网格（封面 + 简介）。交互：菜单切换刷新列表，搜索关键词。约束：分页加载，20 条/页。
5.视频详情页：布局：顶部视频封面 + 播放按钮，中间详情（标题、简介、志愿者、学院、发布时间），底部互动区（点赞、收藏、评论输入）。交互：点击播放 → 播放页；互动实时更新计数。约束：仅已上架，评论机器过滤。
6.视频播放页：布局：全屏视频播放器，底部控制栏（暂停、进度、音量）。交互：拖拽进度、后台播放开关；结束记录完成率。约束：断点续播，网络重连弹窗。
7.直播列表页：布局：顶部状态 Tab（即将/进行中/结束），主体卡片列表（主题、时间、志愿者、状态）。交互：点击进入观看页，订阅提醒推送。约束：仅已上架。
8.直播观看页：布局：全屏直播流，底部弹幕输入 + 发送按钮，右侧在线人数显示。交互：实时弹幕滚动，发送过滤后显示。约束：低延迟，事故中断重连。
9.课后回放页：布局：类似视频播放页，但顶部显示原直播主题/时间。交互：自动从直播结束跳转。约束：若无录制，显示提示。
10.AI 辅导页：布局：顶部入口 Tab（学习/情绪），主体对话历史 + 输入框。交互：发送 → AI 回复滚动；高风险告警弹窗。约束：每日限 5 次，长度限 200 字。
11.个人资料页：布局：顶部头像编辑，中间表单（姓名、年级等只读，密码修改）。交互：保存同步后端。约束：部分字段学院维护。
12.收藏页：布局：网格列表（收藏视频/直播）。交互：点击播放，取消收藏。约束：本地缓存 + 同步。
13.学习记录页：布局：顶部图表（时长/完成率），主体历史列表。交互：日期过滤。约束：数据可视化，仅本学院可见。
14.设置页：布局：列表项（账号安全、通知开关、关于）。交互：切换设置实时应用。约束：退出登录按钮。
15.通知页：布局：列表（系统推送如直播提醒）。交互：点击跳转相关内容。约束：未读标记。
志愿者端（App + Web）页面描述
1.登录页：布局：输入学号/密码 + 登录按钮。交互：注册链接 → 注册页。约束：认证后跳转首页。
2.注册页：布局：表单（学院、学号、姓名、密码、联系方式）。交互：提交 → 等待管理员开通。约束：下拉学院选项。
3.首页/我的内容页：布局：顶部 Tab（视频/直播），主体列表（草稿/审核中/上架）。交互：点击进入编辑/数据。约束：实时状态同步。
4.视频上传页：布局：文件选择器 + 元数据表单（标题、简介、标签）。交互：上传进度 + 保存草稿。约束：文件校验。
5.视频编辑页：布局：预览视频 + 编辑表单。交互：修改保存，提交审核确认。约束：仅草稿/驳回可编。
6.视频详情页：布局：视频信息 + 状态标签 + 数据图表。交互：上架/下架按钮。约束：驳回显示理由。
7.直播申请页：布局：表单（主题、时间、时长）。交互：时间选择器 + 提交。约束：冲突校验。
8.直播审核结果页：布局：申请列表 + 状态（通过/驳回 + 理由）。交互：通过后上架按钮。
9.推流页：布局：全屏推流预览 + 控制按钮（开始/结束、在线人数）。交互：实时监控，预直播测试。约束：时间窗内可用。
10.数据面板页：布局：顶部总体统计，主体视频/直播卡片 + 图表。交互：时间过滤 + 导出。约束：实时刷新。
11.个人资料页：布局：编辑表单（姓名、联系方式）。交互：保存同步。
12.通知页：布局：列表（审核结果、事故警告）。交互：点击详情。
13.设置页：布局：账号安全、通知开关。交互：退出登录。
14.草稿箱页：布局：草稿列表。交互：删除/编辑。
15.历史内容页：布局：已上架/下架列表。交互：重上架确认。
学院管理员端（Web 管理端）页面描述
1.登录页：布局：输入账号/密码。交互：记住密码选项。
2.首页/仪表盘页：布局：顶部关键指标卡片，中间图表（通过率、待审）。交互：时间过滤刷新。约束：本学院数据。
3.视频审核列表页：布局：表格（志愿者、时间、状态） + 筛选栏。交互：点击进入详情，批量审核。
4.视频审核详情页：布局：左侧预览视频，右侧表单（通过/驳回 + 理由）。交互：提交同步状态。
5.视频管理页：布局：全视频列表 + 状态过滤。交互：发布/下线按钮。
6.直播审核列表页：布局：表格（主题、时间、状态）。交互：筛选 + 点击详情。
7.直播审核详情页：布局：申请表单 + 决策按钮。
8.直播管理页：布局：全直播记录 + 事故处理按钮。
9.志愿者管理列表页：布局：表格（姓名、学号、状态）。交互：搜索 + CRUD 按钮。
10.志愿者详情页：布局：信息表单 + 上传记录列表。交互：编辑保存。
11.学院配置页：布局：表单（名称、启用）。交互：保存同步。
12.审计日志页：布局：时间轴列表 + 筛选。交互：导出 CSV。
13.儿童账号维护页：布局：列表（姓名、学校） + 编辑按钮。交互：批量更新。
14.通知管理页：布局：发送通知表单（本学院用户）。交互：预览发送。
15.设置页：布局：权限查看、密码修改。
平台管理员端（Web 管理端）页面描述
1.登录页：布局：输入 + 双因素码。交互：安全验证。
2.首页/全局仪表盘页：布局：顶部对比卡片（学院通过率），中间多图表。交互：学院过滤 + 导出报告。
3.全局视频列表页：布局：跨学院表格 + 筛选。交互：搜索 + 下架按钮。
4.全局视频详情页：布局：预览 + 下架表单（理由）。
5.全局直播列表页：布局：表格 + 状态过滤。交互：封停志愿者。
6.全局直播详情页：布局：申请表单查看 + 兜底操作。
7.学院管理员管理页：布局：列表 + CRUD。交互：添加账号。
8.儿童账号建档页：布局：上传 Excel + 预览表。交互：参数创建。
9.志愿者全局查看页：布局：跨学院列表 + 详情链接。
10.学院创建/编辑页：布局：表单 + 关联管理员下拉。
11.全局权限配置页：布局：权限树编辑器。交互：拖拽调整。
12.全局审计日志页：布局：高级筛选 + 时间轴。交互：导出。
13.风险告警页：布局：告警列表 + 处理日志。交互：标记已处理。
14.数据报告页：布局：自定义报告生成器。交互：参数输入 + 下载。
15.设置页：布局：系统配置（敏感词库编辑）。
微信小程序端页面描述
1.首页：布局：推荐视频卡片 + 搜索。交互：下拉刷新。
2.视频列表页：布局：分类 Tab + 列表。交互：切换加载。
3.视频详情页：布局：详情 + 播放按钮 + 互动。
4.视频播放页：布局：小程序播放器 + 控制。
5.直播列表页：布局：状态 Tab + 卡片。
6.直播观看页：布局：视频流 + 弹幕输入。
7.AI 辅导页：布局：对话框 + 入口。
8.个人资料页：布局：微信绑定 + 编辑。
9.收藏页：布局：列表。
10.学习记录页：布局：简单图表。
11.游客浏览页：布局：有限内容 + 登录引导。
12.通知页：布局：消息列表。
13.设置页：布局：基本开关。
14.志愿者上传页（可选）：布局：简化表单 + 上传。
15.审核结果页（可选）：布局：状态列表。
